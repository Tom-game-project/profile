:root {
    /* === LIMBOカラーパレット === */
    --bg-dark: #111111;
    --bg-fog: #888888; 
    --fg-solid: #000000;
    --text-main: #ffffff;
    --text-dim: #bbbbbb; 
}

body, html {
    margin: 0;
    padding: 0;
    width: 100%;
    height: 100%;
    color: var(--text-main);
    font-family: 'Helvetica Neue', Arial, sans-serif;

    background-color: transparent; 

    line-height: 1.6;
}

/* === 背景レイヤー === */
#scene {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    /* z-indexはそのまま、シルエットより後ろ */
    z-index: -1;
    overflow: hidden;

    /* 最背面のベースカラー */
    background-color: #000;

    /* 複数のグラデーションを重ねて奥行きを表現 */
    background-image: 
        /* 【レイヤー1：手前の霧】
           既存のグラデーションをベースに、rgba()を使って透明度(アルファ値)を設定。
           下に行くほど透明度を上げて、奥のレイヤーを透けさせます。
        */
        linear-gradient(to bottom, 
            rgba(13, 13, 13, 0.9) 0%,   /* 上はほぼ不透明な暗闇 */
            rgba(42, 42, 42, 0.7) 40%,  /* 中間は半透明の霧 */
            rgba(102, 102, 102, 0.4) 80%, /* 下はかなり透明になり光を通す */
            rgba(153, 153, 153, 0.1) 100%),
            
        /* 【レイヤー2：奥の洞窟】
           画面中央から広がる放射状(radial)グラデーション。
           中央がぼんやりと明るく、周囲が闇に沈む表現で洞窟の出口感を演出。
        */
        radial-gradient(ellipse at center, 
            #333333 0%,   /* 中央のわずかな光 */
            #1a1a1a 40%,  /* 岩肌の暗がり */
            #000000 100%); /* 周囲の完全な闇 */
            
    /* レイヤーの合成モード（オプション）
       multiply（乗算）や overlay（オーバーレイ）などを試すと雰囲気が変わります。
       今回は自然な重なりを表現するため、標準設定のままとしています。
       興味があればコメントアウトを外して試してみてください。
    background-blend-mode: overlay;
    */
}

/* === フィルムノイズ === */
.noise-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 100;
    pointer-events: none;
    opacity: 0.05;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
}

/* === ヴィネット === */
.vignette {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 90;
    pointer-events: none;
    /* 洞窟感を強めるため、周囲の闇を少し濃く、範囲を広げました */
    background: radial-gradient(circle at center, transparent 30%, rgba(0,0,0,0.8) 100%);
}

/* === 地面のシルエット === */
.ground-silhouette {
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 25vh;
    min-height: 250px;
    fill: var(--fg-solid);
    z-index: 10;
    filter: blur(1px); 
}

/* === コンテンツエリア === */
.content-wrapper {
    position: relative;
    z-index: 50;
    max-width: 700px;
    margin: 15vh auto 40vh auto;
    padding: 0 2rem;
}

.con-block {
    margin-bottom: 2rem;
    
    padding: 1.5rem;
    border-radius: 8px;
    
    /*backdrop-filter: blur(3px);*/
}

h2 {
    font-size: 2rem;
    font-weight: bold;
    letter-spacing: 0.2rem;
    border-bottom: 1px solid rgba(255,255,255,0.3);
    padding-bottom: 0.5rem;
    margin-bottom: 1.5rem;
    color: #fff;
    text-shadow: 0 0 10px rgba(255, 255, 255, 0.3);
}

h3 {
    font-size: 1.2rem;
    color: var(--text-dim);
    margin-top: 1.5rem;
    font-weight: normal;
}

ul {
    list-style: none;
    padding: 0;
}

li {
    margin-bottom: 0.8rem;
    padding-left: 1rem;
    border-left: 2px solid rgba(255,255,255,0.2);
    transition: all 0.3s ease;
    color: var(--text-main);
}

li:hover {
    border-left-color: #fff;
    text-shadow: 0 0 8px rgba(255,255,255,0.8);
    padding-left: 1.5rem;
    background: linear-gradient(90deg, rgba(255,255,255,0.05), transparent);
}

a {
    color: var(--text-main);
    text-decoration: none;
    border-bottom: 1px dotted var(--text-dim);
    transition: 0.3s;
}

a:hover {
    color: #fff;
    border-bottom: 1px solid #fff;
    text-shadow: 0 0 8px rgba(255,255,255,0.8);
}

.fingerprint {
    font-family: 'Courier New', monospace;
    font-size: 0.85rem;
    color: #ccc;
    background: rgba(0, 0, 0, 0.6);
    padding: 1rem;
    border: 1px solid rgba(255,255,255,0.2);
    display: inline-block;
    letter-spacing: 0.05rem;
    box-shadow: 0 4px 15px rgba(0,0,0,0.5);
    word-break: break-all;
}

/* === 電灯の点滅アニメーション === */
.flicker-light {
    /* 光の滲みを2重にして強化（中心の強い光 + 周囲のぼんやりした光） */
    filter: drop-shadow(0 0 5px rgba(255, 255, 255, 1))
            drop-shadow(0 0 20px rgba(255, 255, 255, 0.6));

    /* アニメーション設定: 4秒で1周、無限ループ */
    animation: flicker-anim 4s infinite step-end;
}

/* 不規則な点滅パターン */
@keyframes flicker-anim {
    0%   { opacity: 1; }
    3%   { opacity: 0.1; } /* 一瞬消える */
    6%   { opacity: 1; }
    7%   { opacity: 0.1; }
    8%   { opacity: 1; }
    9%   { opacity: 1; }
    10%  { opacity: 0.1; } /* パチパチする */
    11%  { opacity: 1; }

    40%  { opacity: 1; }
    42%  { opacity: 0.4; } /* 薄暗くなる */
    43%  { opacity: 1; }

    70%  { opacity: 1; }
    72%  { opacity: 0.1; }
    75%  { opacity: 1; }

    100% { opacity: 1; }
}
